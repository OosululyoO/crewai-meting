

=== ai_meeting_assistant/pyproject.toml ===
[project]
name = "ai_meeting_assistant"
version = "0.1.0"
description = "ai_meeting_assistant using crewAI"
authors = [{ name = "Your Name", email = "you@example.com" }]
requires-python = ">=3.10,<3.14"
dependencies = [
    "crewai[tools]>=0.140.0,<1.0.0",
    "langchain-openai>=0.1.0",
    "langchain-google-genai>=1.0.0",
    "python-dotenv>=1.0.0",
    "pyyaml>=6.0.0"
]

[project.scripts]
ai_meeting_assistant = "ai_meeting_assistant.main:run"
run_crew = "ai_meeting_assistant.main:run"
train = "ai_meeting_assistant.main:train"
replay = "ai_meeting_assistant.main:replay"
test = "ai_meeting_assistant.main:test"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.crewai]
type = "crew"


=== ai_meeting_assistant/README.md ===
# AiMeetingAssistant Crew

Welcome to the AiMeetingAssistant Crew project, powered by [crewAI](https://crewai.com). This template is designed to help you set up a multi-agent AI system with ease, leveraging the powerful and flexible framework provided by crewAI. Our goal is to enable your agents to collaborate effectively on complex tasks, maximizing their collective intelligence and capabilities.

## Installation

Ensure you have Python >=3.10 <3.14 installed on your system. This project uses [UV](https://docs.astral.sh/uv/) for dependency management and package handling, offering a seamless setup and execution experience.

First, if you haven't already, install uv:

```bash
pip install uv
```

Next, navigate to your project directory and install the dependencies:

(Optional) Lock the dependencies and install them by using the CLI command:
```bash
crewai install
```
### Customizing

**Add your `OPENAI_API_KEY` into the `.env` file**

- Modify `src/ai_meeting_assistant/config/agents.yaml` to define your agents
- Modify `src/ai_meeting_assistant/config/tasks.yaml` to define your tasks
- Modify `src/ai_meeting_assistant/crew.py` to add your own logic, tools and specific args
- Modify `src/ai_meeting_assistant/main.py` to add custom inputs for your agents and tasks

## Running the Project

To kickstart your crew of AI agents and begin task execution, run this from the root folder of your project:

```bash
$ crewai run
```

This command initializes the ai_meeting_assistant Crew, assembling the agents and assigning them tasks as defined in your configuration.

This example, unmodified, will run the create a `report.md` file with the output of a research on LLMs in the root folder.

## Understanding Your Crew

The ai_meeting_assistant Crew is composed of multiple AI agents, each with unique roles, goals, and tools. These agents collaborate on a series of tasks, defined in `config/tasks.yaml`, leveraging their collective skills to achieve complex objectives. The `config/agents.yaml` file outlines the capabilities and configurations of each agent in your crew.

## Support

For support, questions, or feedback regarding the AiMeetingAssistant Crew or crewAI.
- Visit our [documentation](https://docs.crewai.com)
- Reach out to us through our [GitHub repository](https://github.com/joaomdmoura/crewai)
- [Join our Discord](https://discord.com/invite/X4JWnZnxPb)
- [Chat with our docs](https://chatg.pt/DWjSBZn)

Let's create wonders together with the power and simplicity of crewAI.


=== ai_meeting_assistant/testgemini.py ===
import os
from dotenv import load_dotenv
from langchain_google_genai import ChatGoogleGenerativeAI
import google.generativeai as genai # ç”¨æ–¼ ListModels æª¢æŸ¥

# è¼‰å…¥ç’°å¢ƒè®Šæ•¸
load_dotenv()
api_key = os.getenv("GOOGLE_API_KEY")

# å†æ¬¡ç¢ºèª API Key æ˜¯å¦æˆåŠŸè¼‰å…¥
print(f"API Key: {'å·²è¼‰å…¥' if api_key else 'æœªè¼‰å…¥'}")

# è¨­å®š Gemini API Key (å° ChatGoogleGenerativeAI ä¹Ÿæœ‰å¹«åŠ©ï¼Œç¢ºä¿åº•å±¤é…ç½®æ­£ç¢º)
genai.configure(api_key=api_key)

print("\n--- æª¢æŸ¥å¯ç”¨çš„ Gemini æ¨¡å‹ ---")
found_target_model = False
target_model_name = "models/gemini-1.5-pro" # ä½ æ­£åœ¨ä½¿ç”¨çš„æ¨¡å‹
for m in genai.list_models():
    if m.name == target_model_name and "generateContent" in m.supported_generation_methods:
        print(f"âœ… æ¨¡å‹ {target_model_name} å·²æ‰¾åˆ°ä¸¦æ”¯æ´ generateContentã€‚")
        found_target_model = True
        break
    elif m.name == target_model_name:
        print(f"âŒ æ¨¡å‹ {target_model_name} å·²æ‰¾åˆ°ï¼Œä½†**ä¸æ”¯æ´** generateContentã€‚")
        print(f"æ”¯æ´æ–¹æ³•ï¼š{m.supported_generation_methods}")
        found_target_model = True
        break

if not found_target_model:
    print(f"âŒ æ¨¡å‹ {target_model_name} åœ¨æ‚¨çš„ API æ¬Šé™ä¸‹æœªæ‰¾åˆ°ã€‚")
    print("è«‹ç¢ºèªæ¨¡å‹åç¨±æ˜¯å¦æ­£ç¢ºï¼Œæˆ–æª¢æŸ¥å€åŸŸå¯ç”¨æ€§ã€‚")

print("-----------------------------\n")


# ç¨ç«‹æ¸¬è©¦ ChatGoogleGenerativeAI
if found_target_model:
    try:
        print("--- ç¨ç«‹æ¸¬è©¦ ChatGoogleGenerativeAI ---")
        gemini_llm_test = ChatGoogleGenerativeAI(
            model=target_model_name,
            temperature=0.3
        )
        test_message = "è«‹ç”¨ä¸€å¥è©±ä»‹ç´¹ä½ è‡ªå·±ã€‚"
        response = gemini_llm_test.invoke(test_message) # ä½¿ç”¨ invoke æ–¹æ³•
        print("âœ… ChatGoogleGenerativeAI ç¨ç«‹æ¸¬è©¦æˆåŠŸï¼")
        print("å›æ‡‰:", response.content)
        print("--------------------------------------\n")
    except Exception as e:
        print(f"âŒ ChatGoogleGenerativeAI ç¨ç«‹æ¸¬è©¦å¤±æ•—ï¼š{e}")
        print("é€™è¡¨ç¤ºå•é¡Œå¯èƒ½åœ¨ LangChain æ•´åˆå±¤æˆ–åº•å±¤ Gemini API è«‹æ±‚æœ¬èº«ã€‚")
else:
    print("ç”±æ–¼ç›®æ¨™æ¨¡å‹æœªæ‰¾åˆ°æˆ–ä¸æ”¯æ´ï¼Œç„¡æ³•é€²è¡Œ ChatGoogleGenerativeAI çš„ç¨ç«‹æ¸¬è©¦ã€‚")

=== ai_meeting_assistant/.gitignore ===
.env
__pycache__/
.DS_Store


=== ai_meeting_assistant/.env ===
MODEL=gpt-4o
OPENAI_API_KEY=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
GOOGLE_API_KEY=AIzaSyDZDDvhc5-iRdv_vNdM9_1fAmvKDVBoRVY

=== ai_meeting_assistant/all_code.py ===
import os
import datetime

# è¨­å®šæ ¹ç›®éŒ„ï¼ˆä½ è¦è¼¸å‡ºçš„è³‡æ–™å¤¾ï¼‰
root_folder = './'  # â† è«‹æ”¹æˆä½ è‡ªå·±çš„è³‡æ–™å¤¾è·¯å¾‘
output_file = 'all_code.txt'
output_file = f"{datetime.datetime.now().strftime('%Y%m%d_%H%M')}_{output_file}"

# è¨­å®šè¼¸å‡ºè³‡æ–™å¤¾
output_folder = './coderocord/'
os.makedirs(output_folder, exist_ok=True)
output_file = os.path.join(output_folder, output_file)

def prompt_user(path):
    rel_path = os.path.relpath(path, root_folder)
    while True:
        choice = input(f"æ˜¯å¦è¦è¼¸å‡º '{rel_path}' çš„å…§å®¹ï¼Ÿ(Y/N): ").strip().upper()
        if choice in ['Y', 'N']:
            return choice == 'Y'
        print("è«‹è¼¸å…¥ Y æˆ– Nã€‚")

with open(output_file, 'w', encoding='utf-8') as out:
    for name in os.listdir(root_folder):
        full_path = os.path.join(root_folder, name)

        if prompt_user(full_path):
            if os.path.isfile(full_path):
                try:
                    with open(full_path, 'r', encoding='utf-8') as f:
                        out.write(f"\n\n=== {name} ===\n")
                        out.write(f.read())
                except Exception as e:
                    out.write(f"\n\n=== {name} ===\n")
                    out.write(f"[ç„¡æ³•è®€å–æ­¤æª”æ¡ˆ: {e}]\n")

            elif os.path.isdir(full_path):
                for foldername, _, filenames in os.walk(full_path):
                    for filename in filenames:
                        file_path = os.path.join(foldername, filename)
                        rel = os.path.relpath(file_path, root_folder)
                        try:
                            with open(file_path, 'r', encoding='utf-8') as f:
                                out.write(f"\n\n=== {rel} ===\n")
                                out.write(f.read())
                        except Exception as e:
                            out.write(f"\n\n=== {rel} ===\n")
                            out.write(f"[ç„¡æ³•è®€å–æ­¤æª”æ¡ˆ: {e}]\n")

print(f"\nâœ… è¼¸å‡ºå®Œæˆï¼Œè«‹æŸ¥çœ‹ {output_file}")


=== ai_meeting_assistant/testapi.py ===
import os
import google.generativeai as genai
from dotenv import load_dotenv

# è¼‰å…¥ .env å–å¾— API Key
load_dotenv()
api_key = os.getenv("GOOGLE_API_KEY")

# ç¢ºèª API Key æ˜¯å¦æˆåŠŸè¼‰å…¥ (åƒ…ä¾›æ¸¬è©¦ç”¨ï¼Œå¯¦éš›æ‡‰ç”¨æ™‚ä¸è¦å°‡é‡‘é‘°ç›´æ¥å°å‡º)
print(f"API Key: {'å·²è¼‰å…¥' if api_key else 'æœªè¼‰å…¥'}")

# è¨­å®š Gemini API Key
genai.configure(api_key=api_key)

# å˜—è©¦ä½¿ç”¨å¦ä¸€å€‹å·²çŸ¥çš„æ”¯æ´ generateContent çš„æ¨¡å‹
model = genai.GenerativeModel("gemini-1.5-pro")

response = model.generate_content("è«‹ç”¨ä¸€å¥è©±ä»‹ç´¹ä½ è‡ªå·±")

print("âœ… Gemini å›æ‡‰ï¼š", response.text)

=== ai_meeting_assistant/knowledge/user_preference.txt ===
User name is John Doe.
User is an AI Engineer.
User is interested in AI Agents.
User is based in San Francisco, California.


=== ai_meeting_assistant/src/ai_meeting_assistant/__init__.py ===


=== ai_meeting_assistant/src/ai_meeting_assistant/crew.py ===
import os
import yaml
from dotenv import load_dotenv

from langchain_openai import ChatOpenAI
from langchain_google_genai import ChatGoogleGenerativeAI
from crewai import Agent, Task, Crew, Process

# è®€å–ç’°å¢ƒè®Šæ•¸
load_dotenv()

# ---------- è®€å– YAML ----------
def load_yaml_config(path):
    with open(path, "r", encoding="utf-8") as f:
        return yaml.safe_load(f)

this_dir = os.path.dirname(__file__)
agents_config = load_yaml_config(os.path.join(this_dir, "config/agents.yaml"))

# ---------- å»ºç«‹ LLM ----------
try:
    openai_llm = ChatOpenAI(
        model="gpt-4o",  # ä½¿ç”¨ .env ä¸­å®šç¾©çš„æ¨¡å‹
        temperature=0.3,
        openai_api_key=os.getenv("OPENAI_API_KEY")
    )
    print("âœ… OpenAI LLM åˆå§‹åŒ–æˆåŠŸ")
except Exception as e:
    print(f"âŒ OpenAI LLM åˆå§‹åŒ–å¤±æ•—: {e}")
    openai_llm = None

# ç‚ºäº†ç©©å®šæ€§ï¼Œæš«æ™‚å…©å€‹ agent éƒ½ä½¿ç”¨ OpenAI
try:
    openai_llm_lawyer = ChatOpenAI(
        model="gpt-4o",  # ä½¿ç”¨ç›¸åŒçš„æ¨¡å‹ä½†ä¸åŒçš„å¯¦ä¾‹
        temperature=0.3,
        openai_api_key=os.getenv("OPENAI_API_KEY")
    )
    print("âœ… Lawyer OpenAI LLM åˆå§‹åŒ–æˆåŠŸ")
except Exception as e:
    print(f"âŒ Lawyer OpenAI LLM åˆå§‹åŒ–å¤±æ•—: {e}")
    openai_llm_lawyer = None

# Gemini LLM æš«æ™‚ä½œç‚ºå‚™ç”¨
try:
    gemini_llm = ChatGoogleGenerativeAI(
        model="gemini-1.5-pro",  # ç°¡åŒ–æ¨¡å‹åç¨±
        temperature=0.3,
        google_api_key=os.getenv("GOOGLE_API_KEY")
    )
    print("âœ… Gemini LLM åˆå§‹åŒ–æˆåŠŸ")
except Exception as e:
    print(f"âŒ Gemini LLM åˆå§‹åŒ–å¤±æ•—: {e}")
    gemini_llm = None

# ---------- å»ºç«‹ Agents ----------
agents = {}

# æœƒè¨ˆå¸«ä½¿ç”¨ OpenAI
if openai_llm is not None:
    agents["accountant"] = Agent(
        config=agents_config["accountant"],
        llm=openai_llm,
        verbose=True
    )
    print("âœ… Accountant agent å‰µå»ºæˆåŠŸ")
else:
    print("âŒ ç„¡æ³•å‰µå»º Accountant agent - OpenAI LLM æœªåˆå§‹åŒ–")

# å¾‹å¸«å„ªå…ˆä½¿ç”¨å°ˆç”¨çš„ OpenAI å¯¦ä¾‹ç¢ºä¿ç©©å®šæ€§
if openai_llm_lawyer is not None:
    agents["lawyer"] = Agent(
        config=agents_config["lawyer"],
        llm=openai_llm_lawyer,  # ä½¿ç”¨å°ˆç”¨çš„ OpenAI å¯¦ä¾‹
        verbose=True
    )
    print("âœ… Lawyer agent (OpenAI) å‰µå»ºæˆåŠŸ")
elif gemini_llm is not None:
    agents["lawyer"] = Agent(
        config=agents_config["lawyer"],
        llm=gemini_llm,
        verbose=True
    )
    print("âœ… Lawyer agent (Gemini) å‰µå»ºæˆåŠŸ")
else:
    print("âŒ ç„¡æ³•å‰µå»º Lawyer agent - æ‰€æœ‰ LLM éƒ½æœªåˆå§‹åŒ–")

# ---------- å»ºç«‹ä»»å‹™æµç¨‹ï¼ˆç”¨ç¨‹å¼å®šç¾©ï¼‰ ----------
def build_crew(user_question: str):
    # æª¢æŸ¥ agents æ˜¯å¦å·²å»ºç«‹
    if not agents:
        raise Exception("âŒ æ²’æœ‰å¯ç”¨çš„ agentsï¼Œè«‹æª¢æŸ¥ LLM åˆå§‹åŒ–")
    
    # æª¢æŸ¥å…©å€‹ agent æ˜¯å¦éƒ½å¯ç”¨
    if "accountant" not in agents or "lawyer" not in agents:
        raise Exception("âŒ éœ€è¦æœƒè¨ˆå¸«å’Œå¾‹å¸«å…©å€‹ agents æ‰èƒ½é‹ä½œ")
    
    # æœƒè¨ˆå¸«ä»»å‹™ï¼šå¾è²¡å‹™è§’åº¦åˆ†æ
    analyze_task = Task(
        description=f"""
        ä½œç‚ºå°ˆæ¥­æœƒè¨ˆå¸«ï¼Œè«‹é‡å°ä»¥ä¸‹å•é¡Œå¾è²¡å‹™èˆ‡ç¨…å‹™è§’åº¦æä¾›åˆ†æï¼š
        
        å•é¡Œï¼š{user_question}
        
        è«‹æä¾›ï¼š
        1. è²¡å‹™å½±éŸ¿åˆ†æ
        2. ç¨…å‹™è€ƒé‡
        3. é¢¨éšªè©•ä¼°
        4. å…·é«”å»ºè­°
        """,
        expected_output="è©³ç´°çš„è²¡å‹™åˆ†æå ±å‘Šï¼ŒåŒ…å«ç¨…å‹™å»ºè­°å’Œé¢¨éšªè©•ä¼°",
        agent=agents["accountant"]
    )

    # å¾‹å¸«ä»»å‹™ï¼šå¾æ³•å¾‹è§’åº¦æä¾›æ„è¦‹
    legal_task = Task(
        description=f"""
        ä½œç‚ºå°ˆæ¥­å¾‹å¸«ï¼Œè«‹é‡å°ä»¥ä¸‹å•é¡Œå¾æ³•å¾‹è§’åº¦æä¾›åˆ†æï¼š
        
        å•é¡Œï¼š{user_question}
        
        è«‹æä¾›ï¼š
        1. æ³•å¾‹é¢¨éšªè©•ä¼°
        2. åˆè¦è¦æ±‚
        3. æ³•å¾‹çµæ§‹å»ºè­°
        4. æ•´åˆè²¡å‹™èˆ‡æ³•å¾‹çš„ç¶œåˆå»ºè­°
        """,
        expected_output="å®Œæ•´çš„æ³•å¾‹åˆ†æå ±å‘Šï¼Œçµåˆè²¡å‹™è€ƒé‡æä¾›ç¶œåˆå»ºè­°",
        agent=agents["lawyer"],
        context=[analyze_task]  # ä¾è³´æœƒè¨ˆå¸«çš„åˆ†æçµæœ
    )

    crew = Crew(
        agents=[agents["accountant"], agents["lawyer"]],
        tasks=[analyze_task, legal_task],
        process=Process.sequential,
        verbose=True
    )
    return crew

# å¢åŠ æ¸¬è©¦åŸ·è¡Œå€å¡Š
if __name__ == "__main__":
    print("\n--- æ­£åœ¨æ¸¬è©¦ CrewAI ç°¡åŒ–ä»»å‹™ ---")
    try:
        # ä½¿ç”¨ä¸€å€‹ç°¡çŸ­ä¸”ç„¡çˆ­è­°çš„å•é¡Œä¾†æ¸¬è©¦
        test_crew = build_crew("æ¸¬è©¦å•é¡Œã€‚")
        result = test_crew.kickoff()
        print("\n--- Crew AI è™•ç†çµæœ ---")
        print(result)
        print("âœ… CrewAI ç°¡åŒ–ä»»å‹™æ¸¬è©¦æˆåŠŸï¼")
    except Exception as e:
        print(f"âŒ CrewAI ç°¡åŒ–ä»»å‹™æ¸¬è©¦å¤±æ•—ï¼š{e}")
        print("å¦‚æœé€™è£¡ä»ç„¶æ˜¯ BadRequestErrorï¼Œå•é¡Œå¯èƒ½æ›´è¤‡é›œã€‚")

=== ai_meeting_assistant/src/ai_meeting_assistant/main.py ===
from crew import build_crew
import os

print("ğŸš€ é–‹å§‹ AI æœƒè­°åŠ©æ‰‹...")

# æª¢æŸ¥ç’°å¢ƒè®Šæ•¸
openai_key = os.getenv("OPENAI_API_KEY")
google_key = os.getenv("GOOGLE_API_KEY")

if not openai_key:
    print("âš ï¸  è­¦å‘Šï¼šæœªæ‰¾åˆ° OPENAI_API_KEY")
if not google_key:
    print("âš ï¸  è­¦å‘Šï¼šæœªæ‰¾åˆ° GOOGLE_API_KEY")

user_question = "æˆ‘æ‰“ç®—é–‹ä¸€å®¶å…¬å¸ï¼Œè¦é¸æ“‡æœ‰é™å…¬å¸é‚„æ˜¯ç¨è³‡ï¼Ÿ"

try:
    print("ğŸ“ å»ºç«‹ Crew...")
    crew = build_crew(user_question)
    
    print("ğŸ”„ åŸ·è¡Œä»»å‹™...")
    result = crew.kickoff()
    
    print("\nâœ… æœ€çµ‚å»ºè­°è¼¸å‡ºï¼š\n")
    print(result)
    
except Exception as e:
    print(f"\nâŒ åŸ·è¡Œéç¨‹ä¸­ç™¼ç”ŸéŒ¯èª¤ï¼š")
    print(f"éŒ¯èª¤é¡å‹ï¼š{type(e).__name__}")
    print(f"éŒ¯èª¤è¨Šæ¯ï¼š{str(e)}")
    print("\nğŸ’¡ å¯èƒ½çš„è§£æ±ºæ–¹æ¡ˆï¼š")
    print("1. æª¢æŸ¥ .env æª”æ¡ˆä¸­çš„ API é‡‘é‘°æ˜¯å¦æ­£ç¢º")
    print("2. æª¢æŸ¥ç¶²è·¯é€£ç·š")
    print("3. ç¢ºèª API é‡‘é‘°æœ‰è¶³å¤ çš„é¡åº¦")


=== ai_meeting_assistant/src/ai_meeting_assistant/tools/__init__.py ===


=== ai_meeting_assistant/src/ai_meeting_assistant/tools/custom_tool.py ===
from crewai.tools import BaseTool
from typing import Type
from pydantic import BaseModel, Field


class MyCustomToolInput(BaseModel):
    """Input schema for MyCustomTool."""
    argument: str = Field(..., description="Description of the argument.")

class MyCustomTool(BaseTool):
    name: str = "Name of my tool"
    description: str = (
        "Clear description for what this tool is useful for, your agent will need this information to use it."
    )
    args_schema: Type[BaseModel] = MyCustomToolInput

    def _run(self, argument: str) -> str:
        # Implementation goes here
        return "this is an example of a tool output, ignore it and move along."


=== ai_meeting_assistant/src/ai_meeting_assistant/config/agents.yaml ===
accountant:
  role: æœƒè¨ˆå¸«
  goal: æä¾›è²¡å‹™èˆ‡ç¨…å‹™å»ºè­°
  backstory: æ“æœ‰å¤šå¹´ä¼æ¥­è²¡å‹™ç¶“é©—çš„å°ˆæ¥­æœƒè¨ˆå¸«ï¼Œå°ˆç²¾æ–¼ç¨…å‹™è¦åŠƒèˆ‡è²¡å‹™åˆ†æã€‚

lawyer:
  role: å¾‹å¸«
  goal: æä¾›æ³•å¾‹å»ºè­°èˆ‡åˆè¦åˆ†æ
  backstory: ç†Ÿæ‚‰å…¬å¸æ³•èˆ‡å•†æ¥­æ³•å¾‹çš„å¾‹å¸«ï¼Œå°ˆæ³¨æ–¼ä¼æ¥­åˆè¦èˆ‡é¢¨éšªç®¡ç†ã€‚


=== ai_meeting_assistant/src/ai_meeting_assistant/config/tasks.yaml ===
analyze_from_accounting:
  description: >
    ä½¿ç”¨è€…è¼¸å…¥çš„å•é¡Œæ˜¯ï¼š
    {user_question}

    ä½ æ˜¯ä¸€ä½æœƒè¨ˆå¸«ï¼Œè«‹å¾è²¡å‹™èˆ‡ç¨…å‹™è§’åº¦æä¾›å»ºè­°èˆ‡é¢¨éšªåˆ†æã€‚
  expected_output: >
    è©³ç´°å»ºè­°èˆ‡èªªæ˜
  agent: accountant


=== ai_meeting_assistant/src/ai_meeting_assistant/__pycache__/crew.cpython-311.pyc ===


=== ai_meeting_assistant/src/ai_meeting_assistant/__pycache__/crew.cpython-311.pyc ===
[ç„¡æ³•è®€å–æ­¤æª”æ¡ˆ: 'utf-8' codec can't decode byte 0xa7 in position 0: invalid start byte]
